# Mise en place de lâ€™environnement

Afin de suivre ce workshop dans des conditions optimales, nous vous recommandons de cloner ce dÃ©pÃ´t sur votre propre ordinateur. Vous trouverez dans le dossier `Bases` le code de dÃ©part et le code de fin pour chaque Ã©tape du workshop. Cela vous permettra de continuer Ã  suivre le parcours en cas de problÃ¨me avec votre code.

## Initialiser un projet avec npm

### npm, câ€™est quoi ?

Lorsque vous travaillez sur un projet, il nâ€™est pas toujours souhaitable de tout programmer par vous-mÃªme. Certaines choses sont trop compliquÃ©es ou trop longues Ã  refaire, et vous prÃ©fÃ©reriez utiliser un code dÃ©jÃ  tout fait pour vous simplifier la tÃ¢che. En dâ€™autres mots, vous cherchez Ã  utiliser des bibliothÃ¨ques !

Lâ€™installation de bibliothÃ¨ques (aussi appelÃ©es libraries, modules, packagesâ€¦) peut parfois sâ€™avÃ©rer pÃ©rilleuse, surtout lorsquâ€™on travaille Ã  plusieurs ! Il faut tÃ©lÃ©charger chacune des bibliothÃ¨ques, sâ€™assurer dâ€™avoir la bonne version, les mettre dans le bon dossierâ€¦ et croiser les doigts pour que tous les contributeurs Ã  votre projet fassent ces choses correctement ğŸ˜

Heureusement, npm est lÃ  pour gÃ©rer ces difficultÃ©s Ã  votre place ! npm (toujours Ã©crit en minuscules) est le sigle pour **N**ode **P**ackage **M**anager, *gestionnaire de paquets de Node* en franÃ§ais. Un gestionnaire de paquets est un petit programme qui va sâ€™occuper dâ€™installer pour vous toutes les libraries utilisÃ©es par votre projet, ce quâ€™on appelle habituellement des *dÃ©pendances*. Avec npm, lâ€™installation de toutes vos dÃ©pendances peut se faire en une simple commande dans le terminal !

||Â 
|---|
|![La mascotte de npm](../assets/npm.png)|
|*Le wombat, mascotte de npm*|

### CrÃ©ation du package.json

CrÃ©ez un nouveau dossier et ouvrez-y le terminal. Entrez ensuite la commande `npm init` et suivez les instructions pour gÃ©nÃ©rer un fichier `package.json` qui nous servira Ã  gÃ©rer les dÃ©pendances. Si vous nâ€™Ãªtes pas trÃ¨s motivÃ© Ã  rÃ©flÃ©chir, spammez `Enter`, la configuration par dÃ©faut fonctionne trÃ¨s bien aussi ! ğŸ˜
```
This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.

See `npm help json` for definitive documentation on these fields
and exactly what they do.

Use `npm install <pkg>` afterwards to install a package and
save it as a dependency in the package.json file.

Press ^C at any time to quit.
package name: (workshop)
version: (1.0.0)
description: Mon super projet !
git repository:
keywords: javascript, workshop
author: Louis
license: (ISC)
About to write to C:\DEV\projects\JavaScript\Node.js\Tests\workshop\package.json:

{
  "name": "workshop",
  "version": "1.0.0",
  "description": "Mon super projet !",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "Louis",
  "license": "ISC",
  "keywords": [
    "javascript",
    "workshop"
  ]
}


Is this OK? (yes)
```
â€¦ et notre `package.json` est dÃ©jÃ  fin prÃªt ! ğŸ¥³ Essayons maintenant dâ€™ajouter une dÃ©pendance ! Pour cet exemple, jâ€™ai choisi `chalk`, un petit module qui va nous permettre de mettre en couleur nos console.log un peu plus facilement. Pour lâ€™installer, il suffit dâ€™entrer la commande `npm install chalk`.
```
C:\DEV\projects\JavaScript\Node.js\Tests\workshop>npm install chalk
npm notice created a lockfile as package-lock.json. You should commit this file.
npm WARN test@1.0.0 No description
npm WARN test@1.0.0 No repository field.

+ chalk@3.0.0
added 7 packages from 4 contributors and audited 7 packages in 0.804s

1 package is looking for funding
  run `npm fund` for details

found 0 vulnerabilities
```
Vous remarquez que deux nouveaux fichiers ont Ã©tÃ© ajoutÃ©s Ã  notre projet ğŸ˜® Le premier est le `package-lock.json`, qui contient lâ€™arborescence exacte de toutes les dÃ©pendances utilisÃ©es par le projet. Lâ€™autre est le `node_modules`, un gros dossier qui va contenir tout le code de nos dÃ©pendances. Le `node_modules` est rÃ©putÃ© assez lourd, et il est vivement conseillÃ© de lâ€™ajouter au `.gitignore` lorsque vous travaillez avec git ! Lorsque nous devons partager un projet avec nos colaborateurs, nous leur envoyons uniquement le `package.json` et le `package-lock.json`. Il leur suffit ensuite de lancer la commande `npm install` pour que npm aille automatiquement rÃ©cupÃ©rer et installer toutes les dÃ©pendances ğŸ˜

![node_modules meme](../assets/node_modules.png)


// TODO dossier public

// TODO installation globale et dev dependencies : installer nodemon